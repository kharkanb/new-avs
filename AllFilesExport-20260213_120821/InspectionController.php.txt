================================================================================
                            InspectionController.php
================================================================================
تعداد فایل‌ها: 7
تاریخ ایجاد: 2026/02/13 12:08:27
مسیر پایه: C:\Users\dear-user\Desktop\complete-avs
================================================================================

--------------------------------------------------------------------------------
【فایل 1】: InspectionController (2).php
📁 مسیر: app\Http\Controllers\Api\InspectionController (2).php
📅 تاریخ آخرین تغییر: 02/13/2026 00:26:44
📏 حجم: 2213 بایت
--------------------------------------------------------------------------------

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\Inspection;
use Illuminate\Http\Request;
use Illuminate\Http\JsonResponse;

class InspectionController extends Controller
{
    public function index(): JsonResponse
    {
        $inspections = Inspection::withCount('equipments')
            ->orderBy('inspection_date', 'desc')
            ->paginate(15);
        return response()->json($inspections);
    }

    public function store(Request $request): JsonResponse
    {
        $validated = $request->validate([
            'inspection_date' => 'required|date',
            'daily_start_time' => 'nullable',
            'daily_end_time' => 'nullable',
            'contractor' => 'nullable|string|max:255',
            'contract_coefficient' => 'nullable|numeric|min:1',
            'contract_number' => 'nullable|string|max:255',
            'whatsapp_number' => 'nullable|string|max:20',
        ]);

        $inspection = Inspection::create($validated);
        return response()->json($inspection, 201);
    }

    public function show(int $id): JsonResponse
    {
        $inspection = Inspection::with('equipments')->findOrFail($id);
        return response()->json($inspection);
    }

    public function update(Request $request, int $id): JsonResponse
    {
        $inspection = Inspection::findOrFail($id);
        
        $validated = $request->validate([
            'inspection_date' => 'sometimes|date',
            'daily_start_time' => 'nullable',
            'daily_end_time' => 'nullable',
            'contractor' => 'nullable|string|max:255',
            'contract_coefficient' => 'nullable|numeric|min:1',
            'contract_number' => 'nullable|string|max:255',
            'whatsapp_number' => 'nullable|string|max:20',
            'status' => 'sometimes|in:draft,completed,archived'
        ]);

        $inspection->update($validated);
        return response()->json($inspection);
    }

    public function destroy(int $id): JsonResponse
    {
        $inspection = Inspection::findOrFail($id);
        $inspection->delete();
        return response()->json(['message' => 'Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯']);
    }
}


--------------------------------------------------------------------------------
【فایل 2】: InspectionController (3).php
📁 مسیر: app\Http\Controllers\Api\InspectionController (3).php
📅 تاریخ آخرین تغییر: 02/12/2026 23:48:56
📏 حجم: 2636 بایت
--------------------------------------------------------------------------------

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\Inspection;
use Illuminate\Http\Request;
use Illuminate\Http\JsonResponse;

class InspectionController extends Controller
{
    public function index(): JsonResponse
    {
        $inspections = Inspection::withCount("equipments")
                                 ->orderBy("inspection_date", "desc")
                                 ->paginate(15);
        return response()->json($inspections);
    }

    public function store(Request $request): JsonResponse
    {
        $validated = $request->validate([
            "inspection_date" => "required|date",
            "daily_start_time" => "nullable|date_format:H:i",
            "daily_end_time" => "nullable|date_format:H:i",
            "contractor" => "nullable|string|max:255",
            "contract_coefficient" => "nullable|numeric|min:1",
            "contract_number" => "nullable|string|max:255",
            "whatsapp_number" => "nullable|string|max:20",
        ]);

        $inspection = Inspection::create($validated);
        
        return response()->json($inspection, 201);
    }

    public function show(int $id): JsonResponse
    {
        $inspection = Inspection::with([
            "equipments.feeders",
            "equipments.location",
            "equipments.communication",
            "equipments.checklistItems",
            "equipments.activities",
            "equipments.consumables",
            "equipments.cellSpecifications.cellEquipments"
        ])->findOrFail($id);
        
        return response()->json($inspection);
    }

    public function update(Request $request, int $id): JsonResponse
    {
        $inspection = Inspection::findOrFail($id);
        
        $validated = $request->validate([
            "inspection_date" => "sometimes|date",
            "daily_start_time" => "nullable|date_format:H:i",
            "daily_end_time" => "nullable|date_format:H:i",
            "contractor" => "nullable|string|max:255",
            "contract_coefficient" => "nullable|numeric|min:1",
            "contract_number" => "nullable|string|max:255",
            "whatsapp_number" => "nullable|string|max:20",
            "status" => "sometimes|in:draft,completed,archived"
        ]);

        $inspection->update($validated);
        
        return response()->json($inspection);
    }

    public function destroy(int $id): JsonResponse
    {
        $inspection = Inspection::findOrFail($id);
        $inspection->delete();
        
        return response()->json(["message" => "Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯"]);
    }
}

--------------------------------------------------------------------------------
【فایل 3】: InspectionController (4).php
📁 مسیر: app\Http\Controllers\Api\InspectionController (4).php
📅 تاریخ آخرین تغییر: 02/13/2026 00:26:44
📏 حجم: 2213 بایت
--------------------------------------------------------------------------------

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\Inspection;
use Illuminate\Http\Request;
use Illuminate\Http\JsonResponse;

class InspectionController extends Controller
{
    public function index(): JsonResponse
    {
        $inspections = Inspection::withCount('equipments')
            ->orderBy('inspection_date', 'desc')
            ->paginate(15);
        return response()->json($inspections);
    }

    public function store(Request $request): JsonResponse
    {
        $validated = $request->validate([
            'inspection_date' => 'required|date',
            'daily_start_time' => 'nullable',
            'daily_end_time' => 'nullable',
            'contractor' => 'nullable|string|max:255',
            'contract_coefficient' => 'nullable|numeric|min:1',
            'contract_number' => 'nullable|string|max:255',
            'whatsapp_number' => 'nullable|string|max:20',
        ]);

        $inspection = Inspection::create($validated);
        return response()->json($inspection, 201);
    }

    public function show(int $id): JsonResponse
    {
        $inspection = Inspection::with('equipments')->findOrFail($id);
        return response()->json($inspection);
    }

    public function update(Request $request, int $id): JsonResponse
    {
        $inspection = Inspection::findOrFail($id);
        
        $validated = $request->validate([
            'inspection_date' => 'sometimes|date',
            'daily_start_time' => 'nullable',
            'daily_end_time' => 'nullable',
            'contractor' => 'nullable|string|max:255',
            'contract_coefficient' => 'nullable|numeric|min:1',
            'contract_number' => 'nullable|string|max:255',
            'whatsapp_number' => 'nullable|string|max:20',
            'status' => 'sometimes|in:draft,completed,archived'
        ]);

        $inspection->update($validated);
        return response()->json($inspection);
    }

    public function destroy(int $id): JsonResponse
    {
        $inspection = Inspection::findOrFail($id);
        $inspection->delete();
        return response()->json(['message' => 'Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯']);
    }
}


--------------------------------------------------------------------------------
【فایل 4】: InspectionController (5).php
📁 مسیر: app\Http\Controllers\Api\InspectionController (5).php
📅 تاریخ آخرین تغییر: 02/12/2026 23:48:56
📏 حجم: 2636 بایت
--------------------------------------------------------------------------------

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\Inspection;
use Illuminate\Http\Request;
use Illuminate\Http\JsonResponse;

class InspectionController extends Controller
{
    public function index(): JsonResponse
    {
        $inspections = Inspection::withCount("equipments")
                                 ->orderBy("inspection_date", "desc")
                                 ->paginate(15);
        return response()->json($inspections);
    }

    public function store(Request $request): JsonResponse
    {
        $validated = $request->validate([
            "inspection_date" => "required|date",
            "daily_start_time" => "nullable|date_format:H:i",
            "daily_end_time" => "nullable|date_format:H:i",
            "contractor" => "nullable|string|max:255",
            "contract_coefficient" => "nullable|numeric|min:1",
            "contract_number" => "nullable|string|max:255",
            "whatsapp_number" => "nullable|string|max:20",
        ]);

        $inspection = Inspection::create($validated);
        
        return response()->json($inspection, 201);
    }

    public function show(int $id): JsonResponse
    {
        $inspection = Inspection::with([
            "equipments.feeders",
            "equipments.location",
            "equipments.communication",
            "equipments.checklistItems",
            "equipments.activities",
            "equipments.consumables",
            "equipments.cellSpecifications.cellEquipments"
        ])->findOrFail($id);
        
        return response()->json($inspection);
    }

    public function update(Request $request, int $id): JsonResponse
    {
        $inspection = Inspection::findOrFail($id);
        
        $validated = $request->validate([
            "inspection_date" => "sometimes|date",
            "daily_start_time" => "nullable|date_format:H:i",
            "daily_end_time" => "nullable|date_format:H:i",
            "contractor" => "nullable|string|max:255",
            "contract_coefficient" => "nullable|numeric|min:1",
            "contract_number" => "nullable|string|max:255",
            "whatsapp_number" => "nullable|string|max:20",
            "status" => "sometimes|in:draft,completed,archived"
        ]);

        $inspection->update($validated);
        
        return response()->json($inspection);
    }

    public function destroy(int $id): JsonResponse
    {
        $inspection = Inspection::findOrFail($id);
        $inspection->delete();
        
        return response()->json(["message" => "Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯"]);
    }
}

--------------------------------------------------------------------------------
【فایل 5】: InspectionController (6).php
📁 مسیر: app\Http\Controllers\Api\InspectionController (6).php
📅 تاریخ آخرین تغییر: 02/13/2026 00:26:44
📏 حجم: 2213 بایت
--------------------------------------------------------------------------------

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\Inspection;
use Illuminate\Http\Request;
use Illuminate\Http\JsonResponse;

class InspectionController extends Controller
{
    public function index(): JsonResponse
    {
        $inspections = Inspection::withCount('equipments')
            ->orderBy('inspection_date', 'desc')
            ->paginate(15);
        return response()->json($inspections);
    }

    public function store(Request $request): JsonResponse
    {
        $validated = $request->validate([
            'inspection_date' => 'required|date',
            'daily_start_time' => 'nullable',
            'daily_end_time' => 'nullable',
            'contractor' => 'nullable|string|max:255',
            'contract_coefficient' => 'nullable|numeric|min:1',
            'contract_number' => 'nullable|string|max:255',
            'whatsapp_number' => 'nullable|string|max:20',
        ]);

        $inspection = Inspection::create($validated);
        return response()->json($inspection, 201);
    }

    public function show(int $id): JsonResponse
    {
        $inspection = Inspection::with('equipments')->findOrFail($id);
        return response()->json($inspection);
    }

    public function update(Request $request, int $id): JsonResponse
    {
        $inspection = Inspection::findOrFail($id);
        
        $validated = $request->validate([
            'inspection_date' => 'sometimes|date',
            'daily_start_time' => 'nullable',
            'daily_end_time' => 'nullable',
            'contractor' => 'nullable|string|max:255',
            'contract_coefficient' => 'nullable|numeric|min:1',
            'contract_number' => 'nullable|string|max:255',
            'whatsapp_number' => 'nullable|string|max:20',
            'status' => 'sometimes|in:draft,completed,archived'
        ]);

        $inspection->update($validated);
        return response()->json($inspection);
    }

    public function destroy(int $id): JsonResponse
    {
        $inspection = Inspection::findOrFail($id);
        $inspection->delete();
        return response()->json(['message' => 'Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯']);
    }
}


--------------------------------------------------------------------------------
【فایل 6】: InspectionController (7).php
📁 مسیر: app\Http\Controllers\Api\InspectionController (7).php
📅 تاریخ آخرین تغییر: 02/12/2026 23:48:56
📏 حجم: 2636 بایت
--------------------------------------------------------------------------------

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\Inspection;
use Illuminate\Http\Request;
use Illuminate\Http\JsonResponse;

class InspectionController extends Controller
{
    public function index(): JsonResponse
    {
        $inspections = Inspection::withCount("equipments")
                                 ->orderBy("inspection_date", "desc")
                                 ->paginate(15);
        return response()->json($inspections);
    }

    public function store(Request $request): JsonResponse
    {
        $validated = $request->validate([
            "inspection_date" => "required|date",
            "daily_start_time" => "nullable|date_format:H:i",
            "daily_end_time" => "nullable|date_format:H:i",
            "contractor" => "nullable|string|max:255",
            "contract_coefficient" => "nullable|numeric|min:1",
            "contract_number" => "nullable|string|max:255",
            "whatsapp_number" => "nullable|string|max:20",
        ]);

        $inspection = Inspection::create($validated);
        
        return response()->json($inspection, 201);
    }

    public function show(int $id): JsonResponse
    {
        $inspection = Inspection::with([
            "equipments.feeders",
            "equipments.location",
            "equipments.communication",
            "equipments.checklistItems",
            "equipments.activities",
            "equipments.consumables",
            "equipments.cellSpecifications.cellEquipments"
        ])->findOrFail($id);
        
        return response()->json($inspection);
    }

    public function update(Request $request, int $id): JsonResponse
    {
        $inspection = Inspection::findOrFail($id);
        
        $validated = $request->validate([
            "inspection_date" => "sometimes|date",
            "daily_start_time" => "nullable|date_format:H:i",
            "daily_end_time" => "nullable|date_format:H:i",
            "contractor" => "nullable|string|max:255",
            "contract_coefficient" => "nullable|numeric|min:1",
            "contract_number" => "nullable|string|max:255",
            "whatsapp_number" => "nullable|string|max:20",
            "status" => "sometimes|in:draft,completed,archived"
        ]);

        $inspection->update($validated);
        
        return response()->json($inspection);
    }

    public function destroy(int $id): JsonResponse
    {
        $inspection = Inspection::findOrFail($id);
        $inspection->delete();
        
        return response()->json(["message" => "Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯"]);
    }
}

--------------------------------------------------------------------------------
【فایل 7】: InspectionController.php
📁 مسیر: app\Http\Controllers\Api\InspectionController.php
📅 تاریخ آخرین تغییر: 02/13/2026 10:37:22
📏 حجم: 2676 بایت
--------------------------------------------------------------------------------

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\Inspection;
use Illuminate\Http\Request;
use Illuminate\Http\JsonResponse;

class InspectionController extends Controller
{
    public function index(): JsonResponse
    {
        $inspections = Inspection::withCount("equipments")
                                 ->orderBy("inspection_date", "desc")
                                 ->paginate(15);
        return response()->json($inspections);
    }

    public function store(Request $request): JsonResponse
    {
        $validated = $request->validate([
            "inspection_date" => "required|date",
            "daily_start_time" => "nullable|date_format:H:i",
            "daily_end_time" => "nullable|date_format:H:i",
            "contractor" => "nullable|string|max:255",
            "contract_coefficient" => "nullable|numeric|min:1",
            "contract_number" => "nullable|string|max:255",
            "whatsapp_number" => "nullable|string|max:20",
        ]);

        $inspection = Inspection::create($validated);
        
        return response()->json($inspection, 201);
    }

    public function show(int $id): JsonResponse
    {
        $inspection = Inspection::with([
            "equipments.feeders",
            "equipments.location",
            "equipments.communication",
            "equipments.checklistItems",
            "equipments.activities",
            "equipments.consumables",
            "equipments.cellSpecifications.cellEquipments"
        ])->findOrFail($id);
        
        return response()->json($inspection);
    }

    public function update(Request $request, int $id): JsonResponse
    {
        $inspection = Inspection::findOrFail($id);
        
        $validated = $request->validate([
            "inspection_date" => "sometimes|date",
            "daily_start_time" => "nullable|date_format:H:i",
            "daily_end_time" => "nullable|date_format:H:i",
            "contractor" => "nullable|string|max:255",
            "contract_coefficient" => "nullable|numeric|min:1",
            "contract_number" => "nullable|string|max:255",
            "whatsapp_number" => "nullable|string|max:20",
            "status" => "sometimes|in:draft,completed,archived"
        ]);

        $inspection->update($validated);
        
        return response()->json($inspection);
    }

    public function destroy(int $id): JsonResponse
    {
        $inspection = Inspection::findOrFail($id);
        $inspection->delete();
        
        return response()->json(["message" => "Ã˜Â¨Ã˜Â§Ã˜Â²Ã˜Â¯Ã›Å’Ã˜Â¯ Ã˜Â¨Ã˜Â§ Ã™â€¦Ã™Ë†Ã™ÂÃ™â€šÃ›Å’Ã˜Âª Ã˜Â­Ã˜Â°Ã™Â Ã˜Â´Ã˜Â¯"]);
    }
}

================================================================================
                        پایان فایل InspectionController.php
================================================================================
